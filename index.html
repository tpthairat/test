<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå - Firebase Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
    <style>
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .loading {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .hero-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .category-active {
            background-color: #3b82f6;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-4">
                    <h1 class="text-2xl font-bold text-blue-600 cursor-pointer" onclick="showPage('home')">üõçÔ∏è Firebase Store</h1>
                </div>
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#" onclick="showPage('home')" class="text-gray-700 hover:text-blue-600 transition">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
                    
                    <!-- Flash Sale Dropdown -->
                    <div class="relative group">
                        <button class="text-gray-700 hover:text-blue-600 transition flex items-center">
                            ‚ö° Flash Sale
                            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                            <div class="py-1">
                                <a href="#" onclick="showFlashSale('main')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">üî• Flash Sale ‡∏´‡∏•‡∏±‡∏Å</a>
                                <a href="#" onclick="showFlashSale('today')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">üìÖ Flash Sale ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</a>
                                <a href="#" onclick="showFlashSale('weekend')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">üéØ Flash Sale ‡∏™‡∏∏‡∏î‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</a>
                                <a href="#" onclick="showFlashSale('mega')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">üí• Mega Flash Sale</a>
                            </div>
                        </div>
                    </div>

                    <!-- ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô Dropdown -->
                    <div class="relative group">
                        <button class="text-gray-700 hover:text-blue-600 transition flex items-center">
                            üéÅ ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô
                            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="absolute left-0 mt-2 w-56 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                            <div class="py-1">
                                <a href="#" onclick="showPromotion('mobile')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">üì± ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</a>
                                <a href="#" onclick="showPromotion('computer')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">üíª ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</a>
                                <a href="#" onclick="showPromotion('fashion')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">üëó ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô</a>
                                <a href="#" onclick="showPromotion('home')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">üè† ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô</a>
                                <a href="#" onclick="showPromotion('game')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">üéÆ ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏Å‡∏°</a>
                                <a href="#" onclick="showPromotion('health')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">üíä ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</a>
                            </div>
                        </div>
                    </div>

                    <!-- ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ Dropdown -->
                    <div class="relative group">
                        <button class="text-gray-700 hover:text-blue-600 transition flex items-center">
                            üõí ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
                            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="absolute left-0 mt-2 w-40 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                            <div class="py-1">
                                <a href="https://shopee.co.th" target="_blank" class="block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-600">üü† Shopee</a>
                                <a href="https://lazada.co.th" target="_blank" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">üîµ Lazada</a>
                                <a href="https://tiktok.com/shop" target="_blank" class="block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50 hover:text-pink-600">‚ö´ TikTok Shop</a>
                            </div>
                        </div>
                    </div>

                    <a href="#" onclick="showPage('about')" class="text-gray-700 hover:text-blue-600 transition">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a>
                    <a href="#" onclick="showPage('contact')" class="text-gray-700 hover:text-blue-600 transition">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="cartBtn" class="relative bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                        üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (<span id="cartCount">0</span>)
                    </button>
                    <button id="adminBtn" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition">
                        üë§ ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div id="heroSection" class="hero-gradient text-white py-20">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h1 class="text-5xl font-bold mb-6">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà Firebase Store</h1>
            <p class="text-xl mb-8">‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏¥‡∏®</p>
            <button onclick="showPage('products')" class="bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition">
                ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 py-8">
        <!-- Home Page -->
        <div id="homePage" class="fade-in">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                <div class="bg-white p-6 rounded-lg shadow-md text-center">
                    <div class="text-4xl mb-4">üöö</div>
                    <h3 class="text-xl font-semibold mb-2">‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏ü‡∏£‡∏µ</h3>
                    <p class="text-gray-600">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ 1,000 ‡∏ö‡∏≤‡∏ó</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md text-center">
                    <div class="text-4xl mb-4">üîí</div>
                    <h3 class="text-xl font-semibold mb-2">‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ 100%</h3>
                    <p class="text-gray-600">‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md text-center">
                    <div class="text-4xl mb-4">‚≠ê</div>
                    <h3 class="text-xl font-semibold mb-2">‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏î‡∏µ</h3>
                    <p class="text-gray-600">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡∏î‡∏±‡∏á</p>
                </div>
            </div>

            <!-- Popular Categories Section -->
            <div class="mb-12">
                <h2 class="text-3xl font-bold text-center mb-8">üî• ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°</h2>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                    <div onclick="showPage('products'); filterByCategory('mobile')" class="bg-white p-6 rounded-lg shadow-md text-center cursor-pointer hover:shadow-lg transition transform hover:scale-105">
                        <div class="text-4xl mb-3">üì±</div>
                        <h3 class="font-semibold">‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</h3>
                        <p class="text-sm text-gray-500">‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡πÇ‡∏ü‡∏ô</p>
                    </div>
                    <div onclick="showPage('products'); filterByCategory('computer')" class="bg-white p-6 rounded-lg shadow-md text-center cursor-pointer hover:shadow-lg transition transform hover:scale-105">
                        <div class="text-4xl mb-3">üíª</div>
                        <h3 class="font-semibold">‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</h3>
                        <p class="text-sm text-gray-500">‡πÅ‡∏•‡πá‡∏õ‡∏ó‡πá‡∏≠‡∏õ PC</p>
                    </div>
                    <div onclick="showPage('products'); filterByCategory('fashion')" class="bg-white p-6 rounded-lg shadow-md text-center cursor-pointer hover:shadow-lg transition transform hover:scale-105">
                        <div class="text-4xl mb-3">üëó</div>
                        <h3 class="font-semibold">‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô</h3>
                        <p class="text-sm text-gray-500">‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤</p>
                    </div>
                    <div onclick="showPage('products'); filterByCategory('home')" class="bg-white p-6 rounded-lg shadow-md text-center cursor-pointer hover:shadow-lg transition transform hover:scale-105">
                        <div class="text-4xl mb-3">üè†</div>
                        <h3 class="font-semibold">‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô</h3>
                        <p class="text-sm text-gray-500">‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô</p>
                    </div>
                    <div onclick="showPage('products'); filterByCategory('game')" class="bg-white p-6 rounded-lg shadow-md text-center cursor-pointer hover:shadow-lg transition transform hover:scale-105">
                        <div class="text-4xl mb-3">üéÆ</div>
                        <h3 class="font-semibold">‡πÄ‡∏Å‡∏°</h3>
                        <p class="text-sm text-gray-500">‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ã‡∏• ‡πÄ‡∏Å‡∏°</p>
                    </div>
                    <div onclick="showPage('products'); filterByCategory('health')" class="bg-white p-6 rounded-lg shadow-md text-center cursor-pointer hover:shadow-lg transition transform hover:scale-105">
                        <div class="text-4xl mb-3">üíä</div>
                        <h3 class="font-semibold">‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</h3>
                        <p class="text-sm text-gray-500">‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏°</p>
                    </div>
                </div>
            </div>

            <!-- Featured Products by Category -->
            <div class="space-y-12">
                <!-- Mobile Products -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold flex items-center">
                            <span class="text-3xl mr-3">üì±</span>
                            ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
                        </h3>
                        <button onclick="showPage('products'); filterByCategory('mobile')" class="text-blue-600 hover:text-blue-800 font-medium">
                            ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí
                        </button>
                    </div>
                    <div id="mobileProducts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    </div>
                </div>

                <!-- Computer Products -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold flex items-center">
                            <span class="text-3xl mr-3">üíª</span>
                            ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
                        </h3>
                        <button onclick="showPage('products'); filterByCategory('computer')" class="text-blue-600 hover:text-blue-800 font-medium">
                            ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí
                        </button>
                    </div>
                    <div id="computerProducts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    </div>
                </div>

                <!-- Fashion Products -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold flex items-center">
                            <span class="text-3xl mr-3">üëó</span>
                            ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
                        </h3>
                        <button onclick="showPage('products'); filterByCategory('fashion')" class="text-blue-600 hover:text-blue-800 font-medium">
                            ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí
                        </button>
                    </div>
                    <div id="fashionProducts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    </div>
                </div>

                <!-- Home Products -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold flex items-center">
                            <span class="text-3xl mr-3">üè†</span>
                            ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
                        </h3>
                        <button onclick="showPage('products'); filterByCategory('home')" class="text-blue-600 hover:text-blue-800 font-medium">
                            ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí
                        </button>
                    </div>
                    <div id="homeProducts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    </div>
                </div>

                <!-- Game Products -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold flex items-center">
                            <span class="text-3xl mr-3">üéÆ</span>
                            ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
                        </h3>
                        <button onclick="showPage('products'); filterByCategory('game')" class="text-blue-600 hover:text-blue-800 font-medium">
                            ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí
                        </button>
                    </div>
                    <div id="gameProducts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    </div>
                </div>

                <!-- Health Products -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold flex items-center">
                            <span class="text-3xl mr-3">üíä</span>
                            ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
                        </h3>
                        <button onclick="showPage('products'); filterByCategory('health')" class="text-blue-600 hover:text-blue-800 font-medium">
                            ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí
                        </button>
                    </div>
                    <div id="healthProducts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    </div>
                </div>
            </div>
        </div>

        <!-- Products Page -->
        <div id="productsPage" class="hidden">
            <!-- Category Filter -->
            <div class="mb-8">
                <h2 class="text-2xl font-bold mb-4">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
                <div class="flex flex-wrap gap-2" id="categoryFilter">
                    <button onclick="filterByCategory('all')" class="category-btn category-active px-4 py-2 rounded-lg border transition">
                        ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                    </button>
                    <button onclick="filterByCategory('mobile')" class="category-btn px-4 py-2 rounded-lg border hover:bg-blue-600 hover:text-white transition">
                        üì± ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠
                    </button>
                    <button onclick="filterByCategory('computer')" class="category-btn px-4 py-2 rounded-lg border hover:bg-blue-600 hover:text-white transition">
                        üíª ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå
                    </button>
                    <button onclick="filterByCategory('fashion')" class="category-btn px-4 py-2 rounded-lg border hover:bg-blue-600 hover:text-white transition">
                        üëó ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô
                    </button>
                    <button onclick="filterByCategory('home')" class="category-btn px-4 py-2 rounded-lg border hover:bg-blue-600 hover:text-white transition">
                        üè† ‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô
                    </button>
                    <button onclick="filterByCategory('game')" class="category-btn px-4 py-2 rounded-lg border hover:bg-blue-600 hover:text-white transition">
                        üéÆ ‡πÄ‡∏Å‡∏°
                    </button>
                    <button onclick="filterByCategory('health')" class="category-btn px-4 py-2 rounded-lg border hover:bg-blue-600 hover:text-white transition">
                        üíä ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û
                    </button>
                </div>
            </div>

            <!-- Loading Spinner -->
            <div id="loadingSpinner" class="flex justify-center items-center py-20">
                <div class="loading"></div>
                <span class="ml-4 text-gray-600">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤...</span>
            </div>

            <!-- Products Grid -->
            <div id="productsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 hidden">
            </div>

            <!-- Empty State -->
            <div id="emptyState" class="text-center py-20 hidden">
                <div class="text-6xl mb-4">üì¶</div>
                <h3 class="text-xl font-semibold text-gray-600 mb-2">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
                <p class="text-gray-500">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</p>
            </div>
        </div>

        <!-- About Page -->
        <div id="aboutPage" class="hidden fade-in">
            <div class="bg-white rounded-lg shadow-md p-8">
                <h2 class="text-3xl font-bold mb-6 text-center">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4">üè™ ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h3>
                        <p class="text-gray-600 mb-4">
                            Firebase Store ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏°‡∏∏‡πà‡∏á‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á 
                            ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏¥‡∏®‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏∏‡∏Å‡∏ó‡πà‡∏≤‡∏ô
                        </p>
                        <p class="text-gray-600">
                            ‡πÄ‡∏£‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏Ñ‡∏ô‡πÉ‡∏´‡πâ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô 
                            ‡∏à‡∏∂‡∏á‡∏Ñ‡∏±‡∏î‡∏™‡∏£‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡∏ä‡∏±‡πâ‡∏ô‡∏ô‡∏≥‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏£‡∏£
                        </p>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4">üéØ ‡∏ß‡∏¥‡∏™‡∏±‡∏¢‡∏ó‡∏±‡∏®‡∏ô‡πå</h3>
                        <ul class="text-gray-600 space-y-2">
                            <li>‚Ä¢ ‡∏°‡∏∏‡πà‡∏á‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏¥‡∏®</li>
                            <li>‚Ä¢ ‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ò‡∏£‡∏£‡∏°</li>
                            <li>‚Ä¢ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Å‡∏≤‡∏£‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</li>
                            <li>‚Ä¢ ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Flash Sale Page -->
        <div id="flashSalePage" class="hidden fade-in">
            <div class="bg-gradient-to-r from-red-500 to-orange-500 text-white p-8 rounded-lg mb-8">
                <h2 class="text-4xl font-bold mb-4 text-center">‚ö° Flash Sale</h2>
                <div id="flashSaleTitle" class="text-xl text-center mb-4">üî• Flash Sale ‡∏´‡∏•‡∏±‡∏Å</div>
                <div class="text-center">
                    <div class="inline-flex items-center bg-white text-red-600 px-6 py-2 rounded-full font-bold">
                        ‚è∞ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: <span id="countdown" class="ml-2">23:59:45</span>
                    </div>
                </div>
            </div>
            
            <div id="flashSaleProducts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            </div>
        </div>

        <!-- Promotion Page -->
        <div id="promotionPage" class="hidden fade-in">
            <div class="bg-gradient-to-r from-purple-500 to-pink-500 text-white p-8 rounded-lg mb-8">
                <h2 class="text-4xl font-bold mb-4 text-center">üéÅ ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</h2>
                <div id="promotionTitle" class="text-xl text-center mb-4">üì± ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</div>
                <div class="text-center">
                    <div class="inline-flex items-center bg-white text-purple-600 px-6 py-2 rounded-full font-bold">
                        üéØ ‡∏•‡∏î‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 50% + ‡∏ü‡∏£‡∏µ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏°
                    </div>
                </div>
            </div>
            
            <div id="promotionProducts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            </div>
        </div>

        <!-- Contact Page -->
        <div id="contactPage" class="hidden fade-in">
            <div class="bg-white rounded-lg shadow-md p-8">
                <h2 class="text-3xl font-bold mb-6 text-center">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4">üìû ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</h3>
                        <div class="space-y-4">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">üìç</span>
                                <div>
                                    <p class="font-medium">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</p>
                                    <p class="text-gray-600">123 ‡∏ñ‡∏ô‡∏ô‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ ‡πÅ‡∏Ç‡∏ß‡∏á‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏° ‡πÄ‡∏Ç‡∏ï‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏• ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10110</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">üìû</span>
                                <div>
                                    <p class="font-medium">‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</p>
                                    <p class="text-gray-600">02-123-4567</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">üìß</span>
                                <div>
                                    <p class="font-medium">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</p>
                                    <p class="text-gray-600">info@firebasestore.com</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">üïí</span>
                                <div>
                                    <p class="font-medium">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£</p>
                                    <p class="text-gray-600">‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡∏®‡∏∏‡∏Å‡∏£‡πå 9:00-18:00 ‡∏ô.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4">üí¨ ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏∂‡∏á‡πÄ‡∏£‡∏≤</h3>
                        <form class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠</label>
                                <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                                <input type="email" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</label>
                                <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                            </div>
                            <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition">
                                ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-bold">üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
                        <button id="closeCartModal" class="text-gray-500 hover:text-gray-700">‚úï</button>
                    </div>
                    <div id="cartItems"></div>
                    <div class="border-t pt-4 mt-4">
                        <div class="flex justify-between items-center text-lg font-bold">
                            <span>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</span>
                            <span id="cartTotal">‡∏ø0</span>
                        </div>
                        <button class="w-full bg-green-600 text-white py-2 rounded-lg mt-4 hover:bg-green-700 transition">
                            ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-md w-full">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-bold">üë§ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</h2>
                        <button id="closeAdminModal" class="text-gray-500 hover:text-gray-700">‚úï</button>
                    </div>
                    <div id="loginForm">
                        <div class="mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                            <p class="text-sm text-yellow-800">
                                <strong>üîß ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Firebase:</strong><br>
                                1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Project ‡πÉ‡∏ô Firebase Console<br>
                                2. ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ Authentication & Firestore<br>
                                3. ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà Firebase Config ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î<br>
                                <strong>Demo:</strong> admin@demo.com / admin123
                            </p>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                            <input type="email" id="adminEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="admin@example.com">
                        </div>
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                            <input type="password" id="adminPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        </div>
                        <button id="loginBtn" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition">
                            ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
                        </button>
                    </div>
                    <div id="adminPanel" class="hidden">
                        <div class="mb-6">
                            <h3 class="text-lg font-semibold mb-4">üõ†Ô∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</h3>
                            <div class="grid grid-cols-2 gap-2 mb-4">
                                <button onclick="showAdminSection('products')" id="adminProductsBtn" class="admin-section-btn bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                    üì¶ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                                </button>
                                <button onclick="showAdminSection('pages')" id="adminPagesBtn" class="admin-section-btn bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition">
                                    üìÑ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
                                </button>
                            </div>
                        </div>

                        <!-- Product Management -->
                        <div id="adminProductsSection" class="mb-4">
                            <!-- Auto Generate Products -->
                            <div class="mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200">
                                <h4 class="text-md font-semibold mb-3 text-blue-800">ü§ñ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</h4>
                                <div class="grid grid-cols-2 gap-2 mb-3">
                                    <select id="autoCategory" class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</option>
                                        <option value="mobile">üì± ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</option>
                                        <option value="computer">üíª ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</option>
                                        <option value="fashion">üëó ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô</option>
                                        <option value="home">üè† ‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô</option>
                                        <option value="game">üéÆ ‡πÄ‡∏Å‡∏°</option>
                                        <option value="health">üíä ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</option>
                                    </select>
                                    <input type="number" id="autoCount" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (1-20)" min="1" max="20" value="5" class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                </div>
                                <button id="generateProductsBtn" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition text-sm">
                                    üöÄ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
                                </button>
                            </div>

                            <!-- Bulk Actions -->
                            <div class="mb-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200">
                                <h4 class="text-md font-semibold mb-3 text-yellow-800">‚ö° ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å</h4>
                                <div class="grid grid-cols-2 gap-2 mb-3">
                                    <select id="bulkCategory" class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</option>
                                        <option value="mobile">üì± ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</option>
                                        <option value="computer">üíª ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</option>
                                        <option value="fashion">üëó ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô</option>
                                        <option value="home">üè† ‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô</option>
                                        <option value="game">üéÆ ‡πÄ‡∏Å‡∏°</option>
                                        <option value="health">üíä ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</option>
                                    </select>
                                    <input type="number" id="bulkPriceMultiplier" placeholder="‡∏Ñ‡∏π‡∏ì‡∏£‡∏≤‡∏Ñ‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô 1.1)" step="0.1" min="0.1" max="10" value="1" class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                </div>
                                <div class="grid grid-cols-2 gap-2">
                                    <button id="bulkUpdatePriceBtn" class="bg-orange-600 text-white py-2 rounded-lg hover:bg-orange-700 transition text-sm">
                                        üí∞ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏Ñ‡∏≤
                                    </button>
                                    <button id="bulkDeleteBtn" class="bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition text-sm">
                                        üóëÔ∏è ‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                                    </button>
                                </div>
                            </div>

                            <!-- Product Management List -->
                            <div class="mb-6 p-4 bg-indigo-50 rounded-lg border border-indigo-200">
                                <h4 class="text-md font-semibold mb-3 text-indigo-800">üìù ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà</h4>
                                <div class="mb-3">
                                    <select id="manageCategory" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                        <option value="">‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                                        <option value="mobile">üì± ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</option>
                                        <option value="computer">üíª ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</option>
                                        <option value="fashion">üëó ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô</option>
                                        <option value="home">üè† ‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô</option>
                                        <option value="game">üéÆ ‡πÄ‡∏Å‡∏°</option>
                                        <option value="health">üíä ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</option>
                                    </select>
                                </div>
                                <div id="productManagementList" class="max-h-60 overflow-y-auto space-y-2">
                                    <!-- Product list will be populated here -->
                                </div>
                            </div>

                            <!-- Product Statistics -->
                            <div class="mb-6 p-4 bg-green-50 rounded-lg border border-green-200">
                                <h4 class="text-md font-semibold mb-3 text-green-800">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h4>
                                <div id="productStats" class="grid grid-cols-2 gap-4 text-sm">
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-green-600" id="totalProducts">0</div>
                                        <div class="text-gray-600">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-blue-600" id="avgPrice">‡∏ø0</div>
                                        <div class="text-gray-600">‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</div>
                                    </div>
                                </div>
                                <div id="categoryStats" class="mt-3 text-xs space-y-1">
                                </div>
                            </div>

                            <!-- Manual Add Product -->
                            <div class="p-4 bg-gray-50 rounded-lg border border-gray-200">
                                <h4 class="text-md font-semibold mb-2">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</h4>
                                <input type="text" id="productName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" class="w-full px-3 py-2 border border-gray-300 rounded-lg mb-2">
                                <input type="number" id="productPrice" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤" class="w-full px-3 py-2 border border-gray-300 rounded-lg mb-2">
                                <select id="productCategory" class="w-full px-3 py-2 border border-gray-300 rounded-lg mb-2">
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</option>
                                    <option value="mobile">üì± ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</option>
                                    <option value="computer">üíª ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</option>
                                    <option value="fashion">üëó ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô</option>
                                    <option value="home">üè† ‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô</option>
                                    <option value="game">üéÆ ‡πÄ‡∏Å‡∏°</option>
                                    <option value="health">üíä ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</option>
                                </select>
                                <input type="url" id="productImage" placeholder="URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û" class="w-full px-3 py-2 border border-gray-300 rounded-lg mb-2">
                                <input type="url" id="productAffiliate" placeholder="‡∏•‡∏¥‡∏á‡∏Ñ‡πå Affiliate (‡πÄ‡∏ä‡πà‡∏ô https://shopee.co.th/...)" class="w-full px-3 py-2 border border-gray-300 rounded-lg mb-2">
                                <textarea id="productDescription" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" class="w-full px-3 py-2 border border-gray-300 rounded-lg mb-2 h-20"></textarea>
                                <button id="addProductBtn" class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition">
                                    ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                                </button>
                            </div>
                        </div>

                        <!-- Page Management -->
                        <div id="adminPagesSection" class="mb-4 hidden">
                            <h4 class="text-md font-semibold mb-2">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö</h4>
                            <div class="space-y-2">
                                <button onclick="editPage('home')" class="w-full text-left bg-gray-100 px-4 py-2 rounded-lg hover:bg-gray-200 transition">
                                    üè† ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
                                </button>
                                <button onclick="editPage('about')" class="w-full text-left bg-gray-100 px-4 py-2 rounded-lg hover:bg-gray-200 transition">
                                    ‚ÑπÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤
                                </button>
                                <button onclick="editPage('contact')" class="w-full text-left bg-gray-100 px-4 py-2 rounded-lg hover:bg-gray-200 transition">
                                    üìû ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤
                                </button>
                            </div>
                        </div>

                        <button id="logoutBtn" class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition">
                            ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Product Modal -->
    <div id="editProductModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-md w-full">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-bold">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
                        <button id="closeEditModal" class="text-gray-500 hover:text-gray-700">‚úï</button>
                    </div>
                    <div class="space-y-4">
                        <input type="hidden" id="editProductId">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                            <input type="text" id="editProductName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏≤‡∏Ñ‡∏≤</label>
                            <input type="number" id="editProductPrice" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</label>
                            <select id="editProductCategory" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="mobile">üì± ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</option>
                                <option value="computer">üíª ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</option>
                                <option value="fashion">üëó ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô</option>
                                <option value="home">üè† ‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô</option>
                                <option value="game">üéÆ ‡πÄ‡∏Å‡∏°</option>
                                <option value="health">üíä ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</label>
                            <input type="url" id="editProductImage" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡∏•‡∏¥‡∏á‡∏Ñ‡πå Affiliate</label>
                            <input type="url" id="editProductAffiliate" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                            <textarea id="editProductDescription" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                        </div>
                        <div class="flex space-x-4">
                            <button id="saveEditBtn" class="flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition">
                                üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                            </button>
                            <button id="cancelEditBtn" class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition">
                                ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12 mt-16">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">üõçÔ∏è Firebase Store</h3>
                    <p class="text-gray-300 mb-4">‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏¥‡∏®</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-300 hover:text-white transition">üìò</a>
                        <a href="#" class="text-gray-300 hover:text-white transition">üì∑</a>
                        <a href="#" class="text-gray-300 hover:text-white transition">üê¶</a>
                        <a href="#" class="text-gray-300 hover:text-white transition">üì∫</a>
                    </div>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</h4>
                    <ul class="space-y-2">
                        <li><a href="#" onclick="showPage('home')" class="text-gray-300 hover:text-white transition">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a></li>
                        <li><a href="#" onclick="showPage('products')" class="text-gray-300 hover:text-white transition">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a></li>
                        <li><a href="#" onclick="showPage('about')" class="text-gray-300 hover:text-white transition">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a></li>
                        <li><a href="#" onclick="showPage('contact')" class="text-gray-300 hover:text-white transition">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h4>
                    <ul class="space-y-2">
                        <li><a href="#" onclick="showPage('products'); filterByCategory('mobile')" class="text-gray-300 hover:text-white transition">üì± ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</a></li>
                        <li><a href="#" onclick="showPage('products'); filterByCategory('computer')" class="text-gray-300 hover:text-white transition">üíª ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</a></li>
                        <li><a href="#" onclick="showPage('products'); filterByCategory('fashion')" class="text-gray-300 hover:text-white transition">üëó ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô</a></li>
                        <li><a href="#" onclick="showPage('products'); filterByCategory('home')" class="text-gray-300 hover:text-white transition">üè† ‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô</a></li>
                        <li><a href="#" onclick="showPage('products'); filterByCategory('game')" class="text-gray-300 hover:text-white transition">üéÆ ‡πÄ‡∏Å‡∏°</a></li>
                        <li><a href="#" onclick="showPage('products'); filterByCategory('health')" class="text-gray-300 hover:text-white transition">üíä ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</h4>
                    <ul class="space-y-2 text-gray-300">
                        <li>üìç 123 ‡∏ñ‡∏ô‡∏ô‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ ‡πÅ‡∏Ç‡∏ß‡∏á‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°</li>
                        <li>üìû 02-123-4567</li>
                        <li>üìß info@firebasestore.com</li>
                        <li>üïí ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡∏®‡∏∏‡∏Å‡∏£‡πå 9:00-18:00 ‡∏ô.</li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p class="text-gray-300">&copy; 2024 Firebase Store. ‡∏™‡∏á‡∏ß‡∏ô‡∏•‡∏¥‡∏Ç‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î.</p>
            </div>
        </div>
    </footer>

    <script>
        // Firebase Configuration - ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢ config ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
        const firebaseConfig = {
            // ‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å Firebase Console
            apiKey: "demo-key-replace-with-real", 
            authDomain: "demo-project.firebaseapp.com", 
            projectId: "demo-project", 
            storageBucket: "demo-project.appspot.com", 
            messagingSenderId: "123456789", 
            appId: "demo-app-id"
        };

        // Initialize Firebase
        let db, auth;
        let cart = [];
        let currentUser = null;
        let allProducts = []; // ‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å Firebase

        let currentPage = 'home';
        let currentCategory = 'all';
        let filteredProducts = [];

        // Product templates for auto generation
        const productTemplates = {
            mobile: [
                { name: 'iPhone 15 Pro Max', basePrice: 45900, image: 'https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400', description: '‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡πÇ‡∏ü‡∏ô‡∏£‡∏∏‡πà‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å Apple ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ä‡∏¥‡∏õ A17 Pro ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡πâ‡∏≠‡∏á 48MP' },
                { name: 'Samsung Galaxy S24 Ultra', basePrice: 42900, image: 'https://images.unsplash.com/photo-1610945265064-0e34e5519bbf?w=400', description: '‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡πÇ‡∏ü‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡∏ò‡∏á‡∏à‡∏≤‡∏Å Samsung ‡∏û‡∏£‡πâ‡∏≠‡∏° S Pen ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡πâ‡∏≠‡∏á 200MP' },
                { name: 'Google Pixel 8 Pro', basePrice: 32900, image: 'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400', description: '‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡πÇ‡∏ü‡∏ô AI ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å Google ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á' },
                { name: 'OnePlus 12', basePrice: 28900, image: 'https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?w=400', description: '‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡πÇ‡∏ü‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏° ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ä‡∏≤‡∏£‡πå‡∏à‡πÄ‡∏£‡πá‡∏ß 100W' },
                { name: 'Xiaomi 14 Ultra', basePrice: 35900, image: 'https://images.unsplash.com/photo-1574944985070-8f3ebc6b79d2?w=400', description: '‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡πÇ‡∏ü‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÄ‡∏ó‡∏û ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡∏ô‡∏™‡πå Leica' }
            ],
            computer: [
                { name: 'MacBook Pro M3', basePrice: 65900, image: 'https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=400', description: '‡πÅ‡∏•‡πá‡∏õ‡∏ó‡πá‡∏≠‡∏õ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ä‡∏¥‡∏õ M3 ‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ Retina' },
                { name: 'Dell XPS 13', basePrice: 45900, image: 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400', description: '‡∏≠‡∏±‡∏•‡∏ï‡∏£‡∏≤‡∏ö‡∏∏‡πä‡∏Ñ‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏° ‡∏î‡∏µ‡πÑ‡∏ã‡∏ô‡πå‡∏ö‡∏≤‡∏á ‡πÄ‡∏ö‡∏≤ ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á' },
                { name: 'ASUS ROG Strix G15', basePrice: 55900, image: 'https://images.unsplash.com/photo-1603302576837-37561b2e2302?w=400', description: '‡πÄ‡∏Å‡∏°‡∏°‡∏¥‡πà‡∏á‡πÅ‡∏•‡πá‡∏õ‡∏ó‡πá‡∏≠‡∏õ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏à‡∏≠ RTX 4060' },
                { name: 'HP Spectre x360', basePrice: 42900, image: 'https://images.unsplash.com/photo-1588872657578-7efd1f1555ed?w=400', description: '‡πÅ‡∏•‡πá‡∏õ‡∏ó‡πá‡∏≠‡∏õ 2-in-1 ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™ ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢' },
                { name: 'Lenovo ThinkPad X1', basePrice: 48900, image: 'https://images.unsplash.com/photo-1484788984921-03950022c9ef?w=400', description: '‡πÅ‡∏•‡πá‡∏õ‡∏ó‡πá‡∏≠‡∏õ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à ‡∏ó‡∏ô‡∏ó‡∏≤‡∏ô ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢' }
            ],
            fashion: [
                { name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡∏Ñ‡∏≠‡∏ï‡∏ï‡∏≠‡∏ô 100%', basePrice: 590, image: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400', description: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏î‡∏µ ‡∏ú‡πâ‡∏≤‡∏Ñ‡∏≠‡∏ï‡∏ï‡∏≠‡∏ô 100% ‡∏ô‡∏¥‡πà‡∏° ‡πÉ‡∏™‡πà‡∏™‡∏ö‡∏≤‡∏¢' },
                { name: '‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏¢‡∏µ‡∏ô‡∏™‡πå Slim Fit', basePrice: 1290, image: 'https://images.unsplash.com/photo-1542272604-787c3835535d?w=400', description: '‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏¢‡∏µ‡∏ô‡∏™‡πå‡∏ó‡∏£‡∏á‡∏™‡∏•‡∏¥‡∏° ‡∏ú‡πâ‡∏≤‡∏î‡∏µ ‡πÉ‡∏™‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏π‡∏î‡∏µ' },
                { name: '‡πÄ‡∏î‡∏£‡∏™‡∏•‡∏≥‡∏•‡∏≠‡∏á', basePrice: 890, image: 'https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=400', description: '‡πÄ‡∏î‡∏£‡∏™‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ ‡πÉ‡∏™‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡πÇ‡∏≠‡∏Å‡∏≤‡∏™' },
                { name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÄ‡∏ä‡∏¥‡πâ‡∏ï‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢', basePrice: 790, image: 'https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?w=400', description: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÄ‡∏ä‡∏¥‡πâ‡∏ï‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏ú‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏¢‡∏±‡∏ö ‡∏£‡∏µ‡∏î‡∏á‡πà‡∏≤‡∏¢' },
                { name: '‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏ú‡πâ‡∏≤‡πÉ‡∏ö', basePrice: 1590, image: 'https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400', description: '‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏ú‡πâ‡∏≤‡πÉ‡∏ö‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô ‡πÉ‡∏™‡πà‡∏™‡∏ö‡∏≤‡∏¢ ‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏ß‡∏±‡∏ô' }
            ],
            home: [
                { name: '‡∏ï‡πâ‡∏ô‡πÑ‡∏ú‡πà‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡∏ñ‡∏≤‡∏á', basePrice: 1200, image: 'https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=400', description: '‡∏ï‡πâ‡∏ô‡πÑ‡∏ú‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡∏ö‡πâ‡∏≤‡∏ô' },
                { name: '‡πÇ‡∏Ñ‡∏°‡πÑ‡∏ü‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏ï‡πä‡∏∞ LED', basePrice: 890, image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400', description: '‡πÇ‡∏Ñ‡∏°‡πÑ‡∏ü LED ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏ü ‡πÅ‡∏™‡∏á‡∏ô‡∏¥‡πà‡∏°‡∏ï‡∏≤' },
                { name: '‡∏´‡∏°‡∏≠‡∏ô‡∏≠‡∏¥‡∏á Sofa', basePrice: 450, image: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400', description: '‡∏´‡∏°‡∏≠‡∏ô‡∏≠‡∏¥‡∏á‡∏ô‡∏∏‡πà‡∏°‡∏™‡∏ö‡∏≤‡∏¢ ‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡πÇ‡∏ã‡∏ü‡∏≤' },
                { name: '‡∏ú‡πâ‡∏≤‡∏õ‡∏π‡∏ó‡∏µ‡πà‡∏ô‡∏≠‡∏ô Cotton', basePrice: 1290, image: 'https://images.unsplash.com/photo-1631049307264-da0ec9d70304?w=400', description: '‡∏ú‡πâ‡∏≤‡∏õ‡∏π‡∏ó‡∏µ‡πà‡∏ô‡∏≠‡∏ô‡∏Ñ‡∏≠‡∏ï‡∏ï‡∏≠‡∏ô ‡∏ô‡∏∏‡πà‡∏° ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏î‡∏µ' },
                { name: '‡∏Å‡∏£‡∏∞‡∏ñ‡∏≤‡∏á‡∏î‡∏¥‡∏ô‡πÄ‡∏ú‡∏≤', basePrice: 320, image: 'https://images.unsplash.com/photo-1485955900006-10f4d324d411?w=400', description: '‡∏Å‡∏£‡∏∞‡∏ñ‡∏≤‡∏á‡∏î‡∏¥‡∏ô‡πÄ‡∏ú‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏•‡∏π‡∏Å‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ' }
            ],
            game: [
                { name: 'PlayStation 5', basePrice: 18900, image: 'https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?w=400', description: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡∏°‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ã‡∏•‡∏£‡∏∏‡πà‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å Sony' },
                { name: 'Xbox Series X', basePrice: 17900, image: 'https://images.unsplash.com/photo-1621259182978-fbf93132d53d?w=400', description: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡∏°‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ã‡∏•‡∏à‡∏≤‡∏Å Microsoft ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö 4K' },
                { name: 'Nintendo Switch OLED', basePrice: 12900, image: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400', description: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡∏°‡∏û‡∏Å‡∏û‡∏≤ ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ OLED ‡∏™‡∏µ‡∏™‡∏ß‡∏¢' },
                { name: 'Gaming Headset', basePrice: 2590, image: 'https://images.unsplash.com/photo-1599669454699-248893623440?w=400', description: '‡∏´‡∏π‡∏ü‡∏±‡∏á‡πÄ‡∏Å‡∏°‡∏°‡∏¥‡πà‡∏á ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏™ ‡∏°‡∏µ‡πÑ‡∏°‡∏Ñ‡πå' },
                { name: 'Mechanical Keyboard', basePrice: 3290, image: 'https://images.unsplash.com/photo-1541140532154-b024d705b90a?w=400', description: '‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÄ‡∏°‡∏Ñ‡∏≤‡∏ô‡∏¥‡∏Ñ‡∏±‡∏• RGB ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏°‡πÄ‡∏°‡∏≠‡∏£‡πå' }
            ],
            health: [
                { name: '‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡∏ã‡∏µ 1000mg', basePrice: 450, image: 'https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=400', description: '‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡∏ã‡∏µ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏†‡∏π‡∏°‡∏¥‡∏Ñ‡∏∏‡πâ‡∏°‡∏Å‡∏±‡∏ô ‡∏ö‡∏£‡∏£‡∏à‡∏∏ 60 ‡πÄ‡∏°‡πá‡∏î' },
                { name: '‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡πÄ‡∏ß‡∏¢‡πå', basePrice: 1890, image: 'https://images.unsplash.com/photo-1593095948071-474c5cc2989d?w=400', description: '‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡πÄ‡∏ß‡∏¢‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢ ‡∏£‡∏™‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï' },
                { name: '‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏õ‡∏•‡∏≤ Omega-3', basePrice: 690, image: 'https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400', description: '‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏õ‡∏•‡∏≤‡∏ö‡∏£‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå ‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏™‡∏°‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏´‡∏±‡∏ß‡πÉ‡∏à' },
                { name: '‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡∏£‡∏ß‡∏°', basePrice: 590, image: 'https://images.unsplash.com/photo-1550572017-edd951aa8f72?w=400', description: '‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡∏£‡∏ß‡∏°‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û' },
                { name: '‡∏Ñ‡∏≠‡∏•‡∏•‡∏≤‡πÄ‡∏à‡∏ô', basePrice: 1290, image: 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400', description: '‡∏Ñ‡∏≠‡∏•‡∏•‡∏≤‡πÄ‡∏à‡∏ô‡∏ö‡∏£‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå ‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏ú‡∏¥‡∏ß‡∏û‡∏£‡∏£‡∏ì' }
            ]
        };

        // Initialize app
        function initApp() {
            try {
                // Initialize Firebase
                firebase.initializeApp(firebaseConfig);
                db = firebase.firestore();
                auth = firebase.auth();
                
                console.log('Firebase initialized successfully');
                
                // Monitor auth state
                auth.onAuthStateChanged((user) => {
                    if (user) {
                        currentUser = user;
                        console.log('User signed in:', user.email);
                        updateAdminUI(true);
                        updateProductStats(); // Update stats when admin logs in
                    } else {
                        currentUser = null;
                        console.log('User signed out');
                        updateAdminUI(false);
                    }
                });
                
                // Load products from Firestore
                loadProductsFromFirestore();
                
                // Initialize with sample data if no products exist
                initializeSampleData();
                
            } catch (error) {
                console.error('Firebase initialization error:', error);
                showNotification('‡πÉ‡∏ä‡πâ‡πÇ‡∏´‡∏°‡∏î‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå - ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Firebase Config ‚ö†Ô∏è', 'error');
                
                // Fallback to demo data
                initializeDemoData();
            }
        }

        // Initialize sample data for first time setup
        async function initializeSampleData() {
            try {
                const snapshot = await db.collection('products').limit(1).get();
                
                if (snapshot.empty) {
                    console.log('No products found, adding sample data...');
                    
                    const sampleProducts = [
                        {
                            name: 'iPhone 15 Pro',
                            price: 39900,
                            category: 'mobile',
                            image: 'https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400',
                            description: '‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡πÇ‡∏ü‡∏ô‡∏£‡∏∏‡πà‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å Apple ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ä‡∏¥‡∏õ A17 Pro',
                            affiliateLink: 'https://shopee.co.th/iphone-15-pro',
                            createdAt: firebase.firestore.FieldValue.serverTimestamp()
                        },
                        {
                            name: 'MacBook Air M2',
                            price: 42900,
                            category: 'computer',
                            image: 'https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=400',
                            description: '‡πÅ‡∏•‡πá‡∏õ‡∏ó‡πá‡∏≠‡∏õ‡∏ó‡∏µ‡πà‡∏ö‡∏≤‡∏á‡πÄ‡∏ö‡∏≤‡πÅ‡∏•‡∏∞‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å Apple',
                            affiliateLink: 'https://lazada.co.th/macbook-air-m2',
                            createdAt: firebase.firestore.FieldValue.serverTimestamp()
                        },
                        {
                            name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô',
                            price: 590,
                            category: 'fashion',
                            image: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400',
                            description: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏î‡∏µ ‡∏ú‡πâ‡∏≤‡∏ô‡∏¥‡πà‡∏° ‡πÉ‡∏™‡πà‡∏™‡∏ö‡∏≤‡∏¢',
                            affiliateLink: 'https://shopee.co.th/fashion-tshirt',
                            createdAt: firebase.firestore.FieldValue.serverTimestamp()
                        },
                        {
                            name: '‡∏ï‡πâ‡∏ô‡πÑ‡∏ú‡πà‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡∏ñ‡∏≤‡∏á',
                            price: 1200,
                            category: 'home',
                            image: 'https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=400',
                            description: '‡∏ï‡πâ‡∏ô‡πÑ‡∏ú‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô',
                            affiliateLink: 'https://lazada.co.th/bamboo-plant',
                            createdAt: firebase.firestore.FieldValue.serverTimestamp()
                        },
                        {
                            name: 'PlayStation 5',
                            price: 18900,
                            category: 'game',
                            image: 'https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?w=400',
                            description: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡∏°‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ã‡∏•‡∏£‡∏∏‡πà‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å Sony',
                            affiliateLink: 'https://shopee.co.th/playstation-5',
                            createdAt: firebase.firestore.FieldValue.serverTimestamp()
                        },
                        {
                            name: '‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡∏ã‡∏µ 1000mg',
                            price: 450,
                            category: 'health',
                            image: 'https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=400',
                            description: '‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡∏ã‡∏µ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏†‡∏π‡∏°‡∏¥‡∏Ñ‡∏∏‡πâ‡∏°‡∏Å‡∏±‡∏ô ‡∏ö‡∏£‡∏£‡∏à‡∏∏ 60 ‡πÄ‡∏°‡πá‡∏î',
                            affiliateLink: 'https://lazada.co.th/vitamin-c',
                            createdAt: firebase.firestore.FieldValue.serverTimestamp()
                        }
                    ];

                    // Add sample products to Firestore
                    const batch = db.batch();
                    sampleProducts.forEach(product => {
                        const docRef = db.collection('products').doc();
                        batch.set(docRef, product);
                    });
                    
                    await batch.commit();
                    console.log('Sample products added successfully');
                    showNotification('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! üéâ');
                    
                    // Reload products
                    loadProductsFromFirestore();
                }
            } catch (error) {
                console.error('Error initializing sample data:', error);
            }
        }

        // Initialize demo data as fallback
        function initializeDemoData() {
            allProducts = [
                {
                    id: '1',
                    name: 'iPhone 15 Pro',
                    price: 39900,
                    category: 'mobile',
                    image: 'https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400',
                    description: '‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡πÇ‡∏ü‡∏ô‡∏£‡∏∏‡πà‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å Apple ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ä‡∏¥‡∏õ A17 Pro',
                    affiliateLink: 'https://shopee.co.th/iphone-15-pro'
                },
                {
                    id: '2',
                    name: 'MacBook Air M2',
                    price: 42900,
                    category: 'computer',
                    image: 'https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=400',
                    description: '‡πÅ‡∏•‡πá‡∏õ‡∏ó‡πá‡∏≠‡∏õ‡∏ó‡∏µ‡πà‡∏ö‡∏≤‡∏á‡πÄ‡∏ö‡∏≤‡πÅ‡∏•‡∏∞‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å Apple',
                    affiliateLink: 'https://lazada.co.th/macbook-air-m2'
                }
            ];
            
            filteredProducts = [...allProducts];
            loadProducts();
            loadHomePageProducts();
        }

        // Load products from Firestore
        async function loadProductsFromFirestore() {
            if (!db) {
                console.log('Firestore not initialized, using demo data');
                initializeDemoData();
                return;
            }

            try {
                document.getElementById('loadingSpinner').classList.remove('hidden');
                document.getElementById('productsGrid').classList.add('hidden');
                
                console.log('Loading products from Firestore...');
                const snapshot = await db.collection('products').orderBy('createdAt', 'desc').get();
                
                allProducts = [];
                snapshot.forEach(doc => {
                    const data = doc.data();
                    allProducts.push({
                        id: doc.id,
                        name: data.name || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠',
                        price: data.price || 0,
                        category: data.category || 'other',
                        image: data.image || 'https://via.placeholder.com/400x300?text=No+Image',
                        description: data.description || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î',
                        affiliateLink: data.affiliateLink || null,
                        createdAt: data.createdAt
                    });
                });
                
                console.log(`‚úÖ Loaded ${allProducts.length} products from Firestore`);
                
                if (allProducts.length === 0) {
                    console.log('No products found, will initialize sample data');
                }
                
                filteredProducts = [...allProducts];
                loadProducts();
                loadHomePageProducts();
                
            } catch (error) {
                console.error('‚ùå Error loading products:', error);
                console.log('Falling back to demo data');
                showNotification('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‚ö†Ô∏è', 'error');
                
                // Fallback to demo data
                initializeDemoData();
            }
        }

        // Load products for home page
        function loadHomePageProducts() {
            const categories = ['mobile', 'computer', 'fashion', 'home', 'game', 'health'];
            
            categories.forEach(category => {
                const categoryProducts = allProducts.filter(product => product.category === category).slice(0, 3);
                const containerId = category + 'Products';
                const container = document.getElementById(containerId);
                
                if (container && categoryProducts.length > 0) {
                    container.innerHTML = categoryProducts.map(product => `
                        <div class="bg-gray-50 rounded-lg p-4 hover:shadow-md transition">
                            <img src="${product.image}" alt="${product.name}" class="w-full h-32 object-cover rounded-lg mb-3">
                            <h4 class="font-semibold text-sm mb-2">${product.name}</h4>
                            <p class="text-xs text-gray-600 mb-2">${product.description.substring(0, 50)}...</p>
                            <div class="flex justify-between items-center mb-3">
                                <span class="text-lg font-bold text-blue-600">‡∏ø${product.price.toLocaleString()}</span>
                            </div>
                            <div class="flex space-x-2">
                                <button onclick="addToCart('${product.id}')" class="flex-1 bg-blue-600 text-white px-3 py-1 rounded text-xs hover:bg-blue-700 transition">
                                    üõí ‡πÄ‡∏û‡∏¥‡πà‡∏°
                                </button>
                                ${product.affiliateLink ? `
                                    <a href="${product.affiliateLink}" target="_blank" class="flex-1 bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 transition text-center">
                                        üõçÔ∏è ‡∏ã‡∏∑‡πâ‡∏≠
                                    </a>
                                ` : ''}
                            </div>
                        </div>
                    `).join('');
                } else if (container) {
                    container.innerHTML = '<p class="text-gray-500 text-center py-8">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏ô‡∏µ‡πâ</p>';
                }
            });
        }

        // Load products with loading state
        function loadProducts() {
            setTimeout(() => {
                document.getElementById('loadingSpinner').classList.add('hidden');
                document.getElementById('productsGrid').classList.remove('hidden');
                displayProducts(filteredProducts);
            }, 500);
        }

        // Show page function
        function showPage(page) {
            // Hide all pages
            document.getElementById('heroSection').style.display = page === 'home' ? 'block' : 'none';
            document.getElementById('homePage').style.display = page === 'home' ? 'block' : 'none';
            document.getElementById('productsPage').style.display = page === 'products' ? 'block' : 'none';
            document.getElementById('aboutPage').style.display = page === 'about' ? 'block' : 'none';
            document.getElementById('contactPage').style.display = page === 'contact' ? 'block' : 'none';
            document.getElementById('flashSalePage').style.display = page === 'flashsale' ? 'block' : 'none';
            document.getElementById('promotionPage').style.display = page === 'promotion' ? 'block' : 'none';
            
            currentPage = page;
            
            // Load products if showing products page
            if (page === 'products') {
                loadProducts();
            }
        }

        // Filter by category
        function filterByCategory(category) {
            currentCategory = category;
            
            // Update category buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('category-active');
            });
            if (event && event.target) {
                event.target.classList.add('category-active');
            }
            
            // Filter products
            if (category === 'all') {
                filteredProducts = [...allProducts];
            } else {
                filteredProducts = allProducts.filter(product => product.category === category);
            }
            
            displayProducts(filteredProducts);
        }

        // Display products
        function displayProducts(products) {
            const grid = document.getElementById('productsGrid');
            
            if (products.length === 0) {
                document.getElementById('emptyState').classList.remove('hidden');
                grid.classList.add('hidden');
                return;
            }

            grid.innerHTML = products.map(product => `
                <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition fade-in">
                    <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <h3 class="font-semibold text-lg mb-2">${product.name}</h3>
                        <p class="text-gray-600 text-sm mb-3">${product.description}</p>
                        <div class="flex justify-between items-center mb-3">
                            <span class="text-xl font-bold text-blue-600">‡∏ø${product.price.toLocaleString()}</span>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="addToCart('${product.id}')" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                üõí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                            </button>
                            ${product.affiliateLink ? `
                                <a href="${product.affiliateLink}" target="_blank" class="flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition text-center">
                                    üõçÔ∏è ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏¢
                                </a>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Add to cart
        function addToCart(productId) {
            const product = allProducts.find(p => p.id === productId);
            if (product) {
                const existingItem = cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }
                updateCartUI();
                
                // Show success message
                showNotification('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß! üõí');
            }
        }

        // Update cart UI
        function updateCartUI() {
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = cartCount;
        }

        // Show cart modal
        function showCartModal() {
            const modal = document.getElementById('cartModal');
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');

            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-gray-500 text-center py-4">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á</p>';
                cartTotal.textContent = '‡∏ø0';
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div class="flex justify-between items-center py-2 border-b">
                        <div class="flex items-center space-x-3">
                            <img src="${item.image}" alt="${item.name}" class="w-12 h-12 object-cover rounded">
                            <div>
                                <h4 class="font-medium">${item.name}</h4>
                                <p class="text-sm text-gray-500">‡∏ø${item.price.toLocaleString()} x ${item.quantity}</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button onclick="updateQuantity('${item.id}', -1)" class="bg-gray-200 px-2 py-1 rounded">-</button>
                            <span>${item.quantity}</span>
                            <button onclick="updateQuantity('${item.id}', 1)" class="bg-gray-200 px-2 py-1 rounded">+</button>
                            <button onclick="removeFromCart('${item.id}')" class="text-red-500 ml-2">üóëÔ∏è</button>
                        </div>
                    </div>
                `).join('');

                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                cartTotal.textContent = `‡∏ø${total.toLocaleString()}`;
            }

            modal.classList.remove('hidden');
        }

        // Update quantity
        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    updateCartUI();
                    showCartModal(); // Refresh modal
                }
            }
        }

        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartUI();
            showCartModal(); // Refresh modal
        }

        // Admin login with Firebase Auth
        async function adminLogin() {
            const email = document.getElementById('adminEmail').value;
            const password = document.getElementById('adminPassword').value;

            if (!email || !password) {
                showNotification('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô ‚ö†Ô∏è', 'error');
                return;
            }

            const loginBtn = document.getElementById('loginBtn');
            const originalText = loginBtn.textContent;
            loginBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö...';
            loginBtn.disabled = true;

            try {
                if (auth) {
                    // Use Firebase Authentication
                    await auth.signInWithEmailAndPassword(email, password);
                    showNotification('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üë§');
                } else {
                    // Fallback demo login
                    if (email === 'admin@demo.com' && password === 'admin123') {
                        currentUser = { email: email };
                        updateAdminUI(true);
                        showNotification('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! (‡πÇ‡∏´‡∏°‡∏î‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå) üë§');
                    } else {
                        throw new Error('Invalid credentials');
                    }
                }
            } catch (error) {
                console.error('Login error:', error);
                let errorMessage = '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö ‚ùå';
                
                if (error.code === 'auth/user-not-found') {
                    errorMessage = '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‚ùå';
                } else if (error.code === 'auth/wrong-password') {
                    errorMessage = '‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‚ùå';
                } else if (error.code === 'auth/invalid-email') {
                    errorMessage = '‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‚ùå';
                } else if (error.code === 'auth/too-many-requests') {
                    errorMessage = '‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà ‚è∞';
                }
                
                showNotification(errorMessage, 'error');
            } finally {
                loginBtn.textContent = originalText;
                loginBtn.disabled = false;
            }
        }

        // Update admin UI based on auth state
        function updateAdminUI(isLoggedIn) {
            if (isLoggedIn) {
                document.getElementById('loginForm').classList.add('hidden');
                document.getElementById('adminPanel').classList.remove('hidden');
            } else {
                document.getElementById('loginForm').classList.remove('hidden');
                document.getElementById('adminPanel').classList.add('hidden');
                // Clear form
                document.getElementById('adminEmail').value = '';
                document.getElementById('adminPassword').value = '';
            }
        }

        // Show admin section
        function showAdminSection(section) {
            document.getElementById('adminProductsSection').style.display = section === 'products' ? 'block' : 'none';
            document.getElementById('adminPagesSection').style.display = section === 'pages' ? 'block' : 'none';
            
            // Update button styles
            document.querySelectorAll('.admin-section-btn').forEach(btn => {
                btn.classList.remove('bg-blue-600', 'bg-purple-600');
                btn.classList.add('bg-gray-600');
            });
            
            if (section === 'products') {
                document.getElementById('adminProductsBtn').classList.remove('bg-gray-600');
                document.getElementById('adminProductsBtn').classList.add('bg-blue-600');
            } else if (section === 'pages') {
                document.getElementById('adminPagesBtn').classList.remove('bg-gray-600');
                document.getElementById('adminPagesBtn').classList.add('bg-purple-600');
            }
        }

        // Edit page function
        function editPage(page) {
            showNotification(`‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç${page === 'home' ? '‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å' : page === 'about' ? '‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤' : '‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤'}... üìù`);
            
            // Close admin modal and show the page
            document.getElementById('adminModal').classList.add('hidden');
            showPage(page);
        }

        // Generate random products automatically
        async function generateProducts() {
            const category = document.getElementById('autoCategory').value;
            const count = parseInt(document.getElementById('autoCount').value) || 5;

            if (!category) {
                showNotification('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚ö†Ô∏è', 'error');
                return;
            }

            if (count < 1 || count > 20) {
                showNotification('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 1-20 ‡∏ä‡∏¥‡πâ‡∏ô ‚ö†Ô∏è', 'error');
                return;
            }

            try {
                const generateBtn = document.getElementById('generateProductsBtn');
                const originalText = generateBtn.textContent;
                generateBtn.textContent = `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á ${count} ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤...`;
                generateBtn.disabled = true;

                const templates = productTemplates[category];
                const affiliateLinks = {
                    mobile: ['https://shopee.co.th/mobile', 'https://lazada.co.th/mobile'],
                    computer: ['https://shopee.co.th/laptop', 'https://lazada.co.th/laptop'],
                    fashion: ['https://shopee.co.th/fashion', 'https://lazada.co.th/fashion'],
                    home: ['https://shopee.co.th/home', 'https://lazada.co.th/home'],
                    game: ['https://shopee.co.th/gaming', 'https://lazada.co.th/gaming'],
                    health: ['https://shopee.co.th/health', 'https://lazada.co.th/health']
                };

                const batch = db ? db.batch() : null;
                const newProducts = [];

                for (let i = 0; i < count; i++) {
                    const template = templates[Math.floor(Math.random() * templates.length)];
                    const priceVariation = 0.8 + (Math.random() * 0.4); // ¬±20% price variation
                    const finalPrice = Math.round(template.basePrice * priceVariation);
                    
                    const product = {
                        name: `${template.name} ${Math.random().toString(36).substring(2, 5).toUpperCase()}`,
                        price: finalPrice,
                        category: category,
                        image: template.image,
                        description: template.description,
                        affiliateLink: affiliateLinks[category][Math.floor(Math.random() * affiliateLinks[category].length)],
                        createdAt: firebase.firestore ? firebase.firestore.FieldValue.serverTimestamp() : new Date()
                    };

                    if (batch) {
                        const docRef = db.collection('products').doc();
                        batch.set(docRef, product);
                        newProducts.push({ id: docRef.id, ...product, createdAt: new Date() });
                    } else {
                        // Demo mode
                        const id = Date.now().toString() + Math.random().toString(36).substring(2);
                        newProducts.push({ id, ...product });
                    }
                }

                if (batch) {
                    await batch.commit();
                    console.log(`Generated ${count} products successfully`);
                }

                // Add to local array
                allProducts.unshift(...newProducts);
                
                // Update displays
                if (currentCategory === 'all' || currentCategory === category) {
                    filteredProducts = currentCategory === 'all' ? [...allProducts] : allProducts.filter(p => p.category === currentCategory);
                    displayProducts(filteredProducts);
                }
                
                loadHomePageProducts();
                updateProductStats();

                // Reset form
                document.getElementById('autoCategory').value = '';
                document.getElementById('autoCount').value = '5';

                generateBtn.textContent = originalText;
                generateBtn.disabled = false;

                showNotification(`‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ${count} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üöÄ`);

            } catch (error) {
                console.error('Error generating products:', error);
                showNotification('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚ùå', 'error');
                
                const generateBtn = document.getElementById('generateProductsBtn');
                generateBtn.textContent = 'üöÄ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥';
                generateBtn.disabled = false;
            }
        }

        // Bulk update prices
        async function bulkUpdatePrices() {
            const category = document.getElementById('bulkCategory').value;
            const multiplier = parseFloat(document.getElementById('bulkPriceMultiplier').value) || 1;

            if (!category) {
                showNotification('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚ö†Ô∏è', 'error');
                return;
            }

            if (multiplier <= 0 || multiplier > 10) {
                showNotification('‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 0.1-10 ‚ö†Ô∏è', 'error');
                return;
            }

            try {
                const updateBtn = document.getElementById('bulkUpdatePriceBtn');
                const originalText = updateBtn.textContent;
                updateBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï...';
                updateBtn.disabled = true;

                const productsToUpdate = allProducts.filter(p => p.category === category);
                
                if (productsToUpdate.length === 0) {
                    showNotification('‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ô‡∏µ‡πâ ‚ö†Ô∏è', 'error');
                    updateBtn.textContent = originalText;
                    updateBtn.disabled = false;
                    return;
                }

                if (db) {
                    const batch = db.batch();
                    productsToUpdate.forEach(product => {
                        const docRef = db.collection('products').doc(product.id);
                        const newPrice = Math.round(product.price * multiplier);
                        batch.update(docRef, { price: newPrice });
                        
                        // Update local array
                        const localProduct = allProducts.find(p => p.id === product.id);
                        if (localProduct) {
                            localProduct.price = newPrice;
                        }
                    });
                    
                    await batch.commit();
                } else {
                    // Demo mode
                    productsToUpdate.forEach(product => {
                        product.price = Math.round(product.price * multiplier);
                    });
                }

                // Update displays
                if (currentCategory === 'all' || currentCategory === category) {
                    filteredProducts = currentCategory === 'all' ? [...allProducts] : allProducts.filter(p => p.category === currentCategory);
                    displayProducts(filteredProducts);
                }
                
                loadHomePageProducts();
                updateProductStats();

                updateBtn.textContent = originalText;
                updateBtn.disabled = false;

                showNotification(`‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏Ñ‡∏≤ ${productsToUpdate.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üí∞`);

            } catch (error) {
                console.error('Error updating prices:', error);
                showNotification('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏Ñ‡∏≤ ‚ùå', 'error');
                
                const updateBtn = document.getElementById('bulkUpdatePriceBtn');
                updateBtn.textContent = 'üí∞ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏Ñ‡∏≤';
                updateBtn.disabled = false;
            }
        }

        // Bulk delete products
        async function bulkDeleteProducts() {
            const category = document.getElementById('bulkCategory').value;

            if (!category) {
                showNotification('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚ö†Ô∏è', 'error');
                return;
            }

            const productsToDelete = allProducts.filter(p => p.category === category);
            
            if (productsToDelete.length === 0) {
                showNotification('‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ô‡∏µ‡πâ ‚ö†Ô∏è', 'error');
                return;
            }

            // Create custom confirmation dialog
            const confirmDialog = document.createElement('div');
            confirmDialog.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center';
            confirmDialog.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-md mx-4">
                    <h3 class="text-lg font-bold mb-4 text-red-600">‚ö†Ô∏è ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö</h3>
                    <p class="mb-4">‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ${productsToDelete.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</p>
                    <p class="text-sm text-gray-600 mb-6">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ</p>
                    <div class="flex space-x-4">
                        <button id="confirmDelete" class="flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition">
                            ‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                        </button>
                        <button id="cancelDelete" class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition">
                            ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                        </button>
                    </div>
                </div>
            `;

            document.body.appendChild(confirmDialog);

            document.getElementById('cancelDelete').onclick = () => {
                document.body.removeChild(confirmDialog);
            };

            document.getElementById('confirmDelete').onclick = async () => {
                document.body.removeChild(confirmDialog);

                try {
                    const deleteBtn = document.getElementById('bulkDeleteBtn');
                    const originalText = deleteBtn.textContent;
                    deleteBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏ö...';
                    deleteBtn.disabled = true;

                    if (db) {
                        const batch = db.batch();
                        productsToDelete.forEach(product => {
                            const docRef = db.collection('products').doc(product.id);
                            batch.delete(docRef);
                        });
                        
                        await batch.commit();
                    }

                    // Remove from local array
                    allProducts = allProducts.filter(p => p.category !== category);
                    
                    // Update displays
                    if (currentCategory === 'all' || currentCategory === category) {
                        filteredProducts = currentCategory === 'all' ? [...allProducts] : allProducts.filter(p => p.category === currentCategory);
                        displayProducts(filteredProducts);
                    }
                    
                    loadHomePageProducts();
                    updateProductStats();

                    deleteBtn.textContent = originalText;
                    deleteBtn.disabled = false;

                    showNotification(`‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ${productsToDelete.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üóëÔ∏è`);

                } catch (error) {
                    console.error('Error deleting products:', error);
                    showNotification('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚ùå', 'error');
                    
                    const deleteBtn = document.getElementById('bulkDeleteBtn');
                    deleteBtn.textContent = 'üóëÔ∏è ‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î';
                    deleteBtn.disabled = false;
                }
            };
        }

        // Update product statistics
        function updateProductStats() {
            const totalProducts = allProducts.length;
            const avgPrice = totalProducts > 0 ? Math.round(allProducts.reduce((sum, p) => sum + p.price, 0) / totalProducts) : 0;
            
            document.getElementById('totalProducts').textContent = totalProducts;
            document.getElementById('avgPrice').textContent = `‡∏ø${avgPrice.toLocaleString()}`;

            // Category statistics
            const categoryStats = {};
            allProducts.forEach(product => {
                categoryStats[product.category] = (categoryStats[product.category] || 0) + 1;
            });

            const categoryStatsContainer = document.getElementById('categoryStats');
            const categoryNames = {
                mobile: 'üì± ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠',
                computer: 'üíª ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå',
                fashion: 'üëó ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô',
                home: 'üè† ‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô',
                game: 'üéÆ ‡πÄ‡∏Å‡∏°',
                health: 'üíä ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û'
            };

            categoryStatsContainer.innerHTML = Object.entries(categoryStats)
                .map(([category, count]) => `
                    <div class="flex justify-between">
                        <span>${categoryNames[category] || category}</span>
                        <span class="font-semibold">${count} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                    </div>
                `).join('');
        }

        // Update product management list
        function updateProductManagementList(filterCategory = '') {
            const container = document.getElementById('productManagementList');
            const productsToShow = filterCategory ? 
                allProducts.filter(p => p.category === filterCategory) : 
                allProducts;

            if (productsToShow.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-4">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ô‡∏µ‡πâ</p>';
                return;
            }

            container.innerHTML = productsToShow.map(product => `
                <div class="bg-white border rounded-lg p-3 flex items-center justify-between hover:shadow-md transition">
                    <div class="flex items-center space-x-3">
                        <img src="${product.image}" alt="${product.name}" class="w-12 h-12 object-cover rounded">
                        <div>
                            <h5 class="font-medium text-sm">${product.name}</h5>
                            <p class="text-xs text-gray-500">‡∏ø${product.price.toLocaleString()}</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="editProduct('${product.id}')" class="bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600 transition">
                            ‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                        </button>
                        <button onclick="deleteProduct('${product.id}')" class="bg-red-500 text-white px-2 py-1 rounded text-xs hover:bg-red-600 transition">
                            üóëÔ∏è ‡∏•‡∏ö
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Edit product function
        function editProduct(productId) {
            const product = allProducts.find(p => p.id === productId);
            if (!product) return;

            // Fill the edit form
            document.getElementById('editProductId').value = product.id;
            document.getElementById('editProductName').value = product.name;
            document.getElementById('editProductPrice').value = product.price;
            document.getElementById('editProductCategory').value = product.category;
            document.getElementById('editProductImage').value = product.image;
            document.getElementById('editProductAffiliate').value = product.affiliateLink || '';
            document.getElementById('editProductDescription').value = product.description;

            // Show modal
            document.getElementById('editProductModal').classList.remove('hidden');
        }

        // Save edited product
        async function saveEditedProduct() {
            const productId = document.getElementById('editProductId').value;
            const name = document.getElementById('editProductName').value;
            const price = parseInt(document.getElementById('editProductPrice').value);
            const category = document.getElementById('editProductCategory').value;
            const image = document.getElementById('editProductImage').value;
            const affiliateLink = document.getElementById('editProductAffiliate').value;
            const description = document.getElementById('editProductDescription').value;

            if (!name || !price || !category || !image || !description) {
                showNotification('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‚ö†Ô∏è', 'error');
                return;
            }

            try {
                const saveBtn = document.getElementById('saveEditBtn');
                const originalText = saveBtn.textContent;
                saveBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...';
                saveBtn.disabled = true;

                const updatedProduct = {
                    name,
                    price,
                    category,
                    image,
                    description,
                    affiliateLink: affiliateLink || null
                };

                if (db) {
                    // Update in Firestore
                    await db.collection('products').doc(productId).update(updatedProduct);
                }

                // Update local array
                const productIndex = allProducts.findIndex(p => p.id === productId);
                if (productIndex !== -1) {
                    allProducts[productIndex] = { ...allProducts[productIndex], ...updatedProduct };
                }

                // Update displays
                if (currentCategory === 'all' || currentCategory === category) {
                    filteredProducts = currentCategory === 'all' ? [...allProducts] : allProducts.filter(p => p.category === currentCategory);
                    displayProducts(filteredProducts);
                }
                
                loadHomePageProducts();
                updateProductStats();
                updateProductManagementList(document.getElementById('manageCategory').value);

                // Close modal
                document.getElementById('editProductModal').classList.add('hidden');

                saveBtn.textContent = originalText;
                saveBtn.disabled = false;

                showNotification('‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‚úÖ');

            } catch (error) {
                console.error('Error updating product:', error);
                showNotification('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚ùå', 'error');
                
                const saveBtn = document.getElementById('saveEditBtn');
                saveBtn.textContent = 'üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç';
                saveBtn.disabled = false;
            }
        }

        // Delete product function
        async function deleteProduct(productId) {
            const product = allProducts.find(p => p.id === productId);
            if (!product) return;

            // Create custom confirmation dialog
            const confirmDialog = document.createElement('div');
            confirmDialog.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center';
            confirmDialog.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-md mx-4">
                    <h3 class="text-lg font-bold mb-4 text-red-600">‚ö†Ô∏è ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
                    <div class="flex items-center space-x-3 mb-4">
                        <img src="${product.image}" alt="${product.name}" class="w-16 h-16 object-cover rounded">
                        <div>
                            <p class="font-medium">${product.name}</p>
                            <p class="text-sm text-gray-600">‡∏ø${product.price.toLocaleString()}</p>
                        </div>
                    </div>
                    <p class="text-sm text-gray-600 mb-6">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ</p>
                    <div class="flex space-x-4">
                        <button id="confirmDeleteSingle" class="flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition">
                            ‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                        </button>
                        <button id="cancelDeleteSingle" class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition">
                            ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                        </button>
                    </div>
                </div>
            `;

            document.body.appendChild(confirmDialog);

            document.getElementById('cancelDeleteSingle').onclick = () => {
                document.body.removeChild(confirmDialog);
            };

            document.getElementById('confirmDeleteSingle').onclick = async () => {
                document.body.removeChild(confirmDialog);

                try {
                    if (db) {
                        // Delete from Firestore
                        await db.collection('products').doc(productId).delete();
                    }

                    // Remove from local array
                    allProducts = allProducts.filter(p => p.id !== productId);
                    
                    // Update displays
                    if (currentCategory === 'all' || currentCategory === product.category) {
                        filteredProducts = currentCategory === 'all' ? [...allProducts] : allProducts.filter(p => p.category === currentCategory);
                        displayProducts(filteredProducts);
                    }
                    
                    loadHomePageProducts();
                    updateProductStats();
                    updateProductManagementList(document.getElementById('manageCategory').value);

                    showNotification('‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üóëÔ∏è');

                } catch (error) {
                    console.error('Error deleting product:', error);
                    showNotification('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚ùå', 'error');
                }
            };
        }

        // Add product to Firestore
        async function addProduct() {
            const name = document.getElementById('productName').value;
            const price = parseInt(document.getElementById('productPrice').value);
            const category = document.getElementById('productCategory').value;
            const image = document.getElementById('productImage').value;
            const affiliateLink = document.getElementById('productAffiliate').value;
            const description = document.getElementById('productDescription').value;

            if (name && price && category && image && description) {
                try {
                    // Show loading
                    const addBtn = document.getElementById('addProductBtn');
                    const originalText = addBtn.textContent;
                    addBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°...';
                    addBtn.disabled = true;

                    const newProduct = {
                        name,
                        price,
                        category,
                        image,
                        description,
                        affiliateLink: affiliateLink || null,
                        createdAt: firebase.firestore ? firebase.firestore.FieldValue.serverTimestamp() : new Date()
                    };

                    let productId;
                    if (db) {
                        // Add to Firestore
                        const docRef = await db.collection('products').add(newProduct);
                        productId = docRef.id;
                        console.log('Product added with ID:', productId);
                    } else {
                        // Demo mode
                        productId = Date.now().toString();
                    }

                    // Add to local array with generated ID
                    allProducts.unshift({
                        id: productId,
                        ...newProduct,
                        createdAt: new Date() // For local display
                    });
                    
                    // Update filtered products if showing all or same category
                    if (currentCategory === 'all' || currentCategory === category) {
                        filteredProducts = currentCategory === 'all' ? [...allProducts] : allProducts.filter(p => p.category === currentCategory);
                        displayProducts(filteredProducts);
                    }
                    
                    // Update home page products and stats
                    loadHomePageProducts();
                    updateProductStats();
                    updateProductManagementList();
                    
                    // Clear form
                    document.getElementById('productName').value = '';
                    document.getElementById('productPrice').value = '';
                    document.getElementById('productCategory').value = '';
                    document.getElementById('productImage').value = '';
                    document.getElementById('productAffiliate').value = '';
                    document.getElementById('productDescription').value = '';

                    // Reset button
                    addBtn.textContent = originalText;
                    addBtn.disabled = false;

                    showNotification('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‚úÖ');

                } catch (error) {
                    console.error('Error adding product:', error);
                    showNotification('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚ùå', 'error');
                    
                    // Reset button
                    const addBtn = document.getElementById('addProductBtn');
                    addBtn.textContent = '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤';
                    addBtn.disabled = false;
                }
            } else {
                showNotification('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô (‡∏•‡∏¥‡∏á‡∏Ñ‡πå Affiliate ‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö) ‚ö†Ô∏è', 'error');
            }
        }

        // Logout with Firebase Auth
        async function logout() {
            try {
                if (auth && currentUser) {
                    await auth.signOut();
                    showNotification('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß üëã');
                } else {
                    // Fallback for demo mode
                    currentUser = null;
                    updateAdminUI(false);
                    showNotification('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß üëã');
                }
            } catch (error) {
                console.error('Logout error:', error);
                showNotification('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö ‚ùå', 'error');
            }
        }

        // Show Flash Sale
        function showFlashSale(type) {
            showPage('flashsale');
            
            const titles = {
                'main': 'üî• Flash Sale ‡∏´‡∏•‡∏±‡∏Å',
                'today': 'üìÖ Flash Sale ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ',
                'weekend': 'üéØ Flash Sale ‡∏™‡∏∏‡∏î‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå',
                'mega': 'üí• Mega Flash Sale'
            };
            
            document.getElementById('flashSaleTitle').textContent = titles[type];
            
            // Show flash sale products with discount
            const flashSaleProducts = allProducts.map(product => ({
                ...product,
                originalPrice: product.price,
                price: Math.floor(product.price * 0.7), // 30% discount
                discount: 30
            }));
            
            displayFlashSaleProducts(flashSaleProducts);
            startCountdown();
        }

        // Show Promotion
        function showPromotion(category) {
            showPage('promotion');
            
            const titles = {
                'mobile': 'üì± ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠',
                'computer': 'üíª ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå',
                'fashion': 'üëó ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô',
                'home': 'üè† ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô',
                'game': 'üéÆ ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏Å‡∏°',
                'health': 'üíä ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û'
            };
            
            document.getElementById('promotionTitle').textContent = titles[category];
            
            // Filter products by category and add promotion
            const promotionProducts = allProducts
                .filter(product => product.category === category)
                .map(product => ({
                    ...product,
                    originalPrice: product.price,
                    price: Math.floor(product.price * 0.8), // 20% discount
                    discount: 20,
                    freeGift: true
                }));
            
            displayPromotionProducts(promotionProducts);
        }

        // Display Flash Sale Products
        function displayFlashSaleProducts(products) {
            const container = document.getElementById('flashSaleProducts');
            
            container.innerHTML = products.map(product => `
                <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition fade-in relative">
                    <div class="absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold">
                        -${product.discount}%
                    </div>
                    <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <h3 class="font-semibold text-lg mb-2">${product.name}</h3>
                        <p class="text-gray-600 text-sm mb-3">${product.description}</p>
                        <div class="flex justify-between items-center mb-3">
                            <div>
                                <span class="text-xl font-bold text-red-600">‡∏ø${product.price.toLocaleString()}</span>
                                <span class="text-sm text-gray-500 line-through ml-2">‡∏ø${product.originalPrice.toLocaleString()}</span>
                            </div>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="addToCart('${product.id}')" class="flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition">
                                ‚ö° ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                            </button>
                            ${product.affiliateLink ? `
                                <a href="${product.affiliateLink}" target="_blank" class="flex-1 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition text-center">
                                    üõçÔ∏è ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏¢
                                </a>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Display Promotion Products
        function displayPromotionProducts(products) {
            const container = document.getElementById('promotionProducts');
            
            container.innerHTML = products.map(product => `
                <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition fade-in relative">
                    <div class="absolute top-2 left-2 bg-purple-500 text-white px-2 py-1 rounded-full text-xs font-bold">
                        -${product.discount}%
                    </div>
                    ${product.freeGift ? `
                        <div class="absolute top-2 right-2 bg-pink-500 text-white px-2 py-1 rounded-full text-xs font-bold">
                            üéÅ ‡∏ü‡∏£‡∏µ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏°
                        </div>
                    ` : ''}
                    <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <h3 class="font-semibold text-lg mb-2">${product.name}</h3>
                        <p class="text-gray-600 text-sm mb-3">${product.description}</p>
                        <div class="flex justify-between items-center mb-3">
                            <div>
                                <span class="text-xl font-bold text-purple-600">‡∏ø${product.price.toLocaleString()}</span>
                                <span class="text-sm text-gray-500 line-through ml-2">‡∏ø${product.originalPrice.toLocaleString()}</span>
                            </div>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="addToCart('${product.id}')" class="flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition">
                                üéÅ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                            </button>
                            ${product.affiliateLink ? `
                                <a href="${product.affiliateLink}" target="_blank" class="flex-1 bg-pink-600 text-white px-4 py-2 rounded-lg hover:bg-pink-700 transition text-center">
                                    üõçÔ∏è ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏¢
                                </a>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Start countdown timer
        function startCountdown() {
            let hours = 23;
            let minutes = 59;
            let seconds = 45;
            
            const countdownElement = document.getElementById('countdown');
            
            const timer = setInterval(() => {
                seconds--;
                
                if (seconds < 0) {
                    seconds = 59;
                    minutes--;
                }
                
                if (minutes < 0) {
                    minutes = 59;
                    hours--;
                }
                
                if (hours < 0) {
                    clearInterval(timer);
                    countdownElement.textContent = "00:00:00";
                    return;
                }
                
                const formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                countdownElement.textContent = formattedTime;
            }, 1000);
        }

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `fixed top-20 right-4 z-50 px-6 py-3 rounded-lg text-white font-medium ${
                type === 'error' ? 'bg-red-500' : 'bg-green-500'
            } fade-in`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            initApp();

            // Cart modal
            document.getElementById('cartBtn').addEventListener('click', showCartModal);
            document.getElementById('closeCartModal').addEventListener('click', () => {
                document.getElementById('cartModal').classList.add('hidden');
            });

            // Admin modal
            document.getElementById('adminBtn').addEventListener('click', () => {
                document.getElementById('adminModal').classList.remove('hidden');
            });
            document.getElementById('closeAdminModal').addEventListener('click', () => {
                document.getElementById('adminModal').classList.add('hidden');
            });

            // Admin functions
            document.getElementById('loginBtn').addEventListener('click', adminLogin);
            document.getElementById('addProductBtn').addEventListener('click', addProduct);
            document.getElementById('logoutBtn').addEventListener('click', logout);

            // Auto generation functions
            document.getElementById('generateProductsBtn').addEventListener('click', generateProducts);
            document.getElementById('bulkUpdatePriceBtn').addEventListener('click', bulkUpdatePrices);
            document.getElementById('bulkDeleteBtn').addEventListener('click', bulkDeleteProducts);

            // Product management functions
            document.getElementById('manageCategory').addEventListener('change', function() {
                updateProductManagementList(this.value);
            });

            // Edit product modal
            document.getElementById('closeEditModal').addEventListener('click', () => {
                document.getElementById('editProductModal').classList.add('hidden');
            });
            document.getElementById('cancelEditBtn').addEventListener('click', () => {
                document.getElementById('editProductModal').classList.add('hidden');
            });
            document.getElementById('saveEditBtn').addEventListener('click', saveEditedProduct);

            // Contact form
            document.querySelector('#contactPage form').addEventListener('submit', function(e) {
                e.preventDefault();
                showNotification('‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß! ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏ô‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ üìß');
                this.reset();
            });

            // Close modals on outside click
            document.getElementById('cartModal').addEventListener('click', (e) => {
                if (e.target === e.currentTarget) {
                    e.currentTarget.classList.add('hidden');
                }
            });
            document.getElementById('adminModal').addEventListener('click', (e) => {
                if (e.target === e.currentTarget) {
                    e.currentTarget.classList.add('hidden');
                }
            });
            document.getElementById('editProductModal').addEventListener('click', (e) => {
                if (e.target === e.currentTarget) {
                    e.currentTarget.classList.add('hidden');
                }
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96e8c0c3e1af10d6',t:'MTc1NTA5Mzc3Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
